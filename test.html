<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Music player</title>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
    integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w=="
    crossorigin="anonymous"
  />
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css"
  />
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" integrity="sha512-c42qTSw/wPZ3/5LBzD+Bw5f7bSF2oxou6wEb+I/lqeaKV5FDIfMvvRp772y4jcJLKuGUOpbJMdg/BTl50fJYAw==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->
  <!-- <link rel="stylesheet" href="./assets/css/style.css"> -->
  <style>
    :root {
      --primary-color: #ec1f55;
      --text-color: #333;
    }

    * {
      padding: 0;
      margin: 0;
      box-sizing: inherit;
    }

    body {
      /* background-color: #f5f5f5; */
      /* From https://css.glass */
      background: rgba(210, 182, 255, 0.52);
      background: url("./assets/images/gifs/6.jpg");
      background-position: center;
      object-fit: contain;
      background-size: cover;

      /* backdrop-filter: blur(4.7px); */
      /* -webkit-backdrop-filter: blur(4.7px); */
      /* border: 1px solid rgba(210, 182, 255, 0.78); */
    }

    html {
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }

    .player {
      position: relative;
      max-width: 480px;
      margin: 0 auto;
    }

    .player .icon-pause {
      display: none;
    }

    .player.playing .icon-pause {
      display: inline-block;
    }

    .player.playing .icon-play {
      display: none;
    }

    .dashboard {
      margin: auto;
      padding: 16px 16px 14px;
      /* background-color: #fff; */
      position: fixed;
      top: 0;
      width: 100%;
      max-width: 480px;
      z-index: 5;
      border-bottom: 1px solid #ebebeb;

      background-position: center;
      background-size: auto;

      /* From https://css.glass */
      background: rgba(219, 215, 227, 0.25);
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(4.7px);
      -webkit-backdrop-filter: blur(4.7px);
      border: 1px solid rgba(210, 182, 255, 0.78);
    }

    /* HEADER */
    header {
      text-align: center;
      margin-bottom: 10px;
    }

    header h4 {
      color: var(--primary-color);
      font-size: 12px;
    }

    header h2 {
      color: var(--text-color);
      font-size: 20px;
    }

    /* CD */
    .cd {
      display: flex;
      margin: auto;
      width: 270px;
      border: 13px solid rgb(211, 181, 186);
      border-radius: 30%;
      border-radius: 132px;
      /* background: linear-gradient(145deg, #cacaca, #f0f0f0); */
      background: rgba(231, 158, 225, 0.29);
      box-shadow: 19px 19px 37px #b3b3b3, 15px 10px 60px #efa5b9;
      -webkit-backdrop-filter: blur(5.3px);
    }

    .cd-thumb {
      width: 100%;
      padding-top: 100%;
      border-radius: 50%;
      background-color: #333;
      background-size: cover;
      margin: auto;
      z-index: 5;
    }

    /* CONTROL */
    .control {
      display: flex;
      align-items: center;
      justify-content: space-around;
      padding: 18px 0 8px 0;
    }

    .control .btn {
      color: #666;
      padding: 18px;
      font-size: 18px;
    }

    .control .btn.active {
      color: var(--primary-color);
      border-radius: 132px;
      background: linear-gradient(145deg, #f0f0f0, #cacaca);
      box-shadow: 19px 19px 37px #b3b3b3, -19px -19px 37px #ffffff;
    }

    .control .btn-toggle-play {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      font-size: 24px;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--primary-color);
    }

    .progress {
      width: 100%;
      -webkit-appearance: none;
      height: 6px;
      background: #d3d3d3;
      outline: none;
      opacity: 0.7;
      -webkit-transition: 0.2s;
      transition: opacity 0.2s;
    }

    .progress::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 12px;
      height: 6px;
      background-color: var(--primary-color);
      cursor: pointer;
    }

    /* PLAYLIST */
    .playlist {
      margin-top: 408px;
      padding: 12px;
    }

    .song {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
      /* background-color: #fff; */
      background: rgba(255, 255, 255, 0.45);
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(4.7px);
      -webkit-backdrop-filter: blur(4.7px);
      border: 1px solid rgba(210, 182, 255, 0.78);
      padding: 8px 16px;
      border-radius: 5px;
      box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);
    }

    .song.active {
      background-color: var(--primary-color);
      scale: 1.05;
      z-index: -5; /* From https://css.glass */
      background: var(--primary-color);
      border-radius: 11px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(5.3px);
      -webkit-backdrop-filter: blur(5.3px);
      border: 1px solid rgba(255, 54, 238, 0.77);
    }

    .song:active {
      opacity: 0.8;
    }

    .song.active .option,
    .song.active .author,
    .song.active .title {
      color: #fff;
    }

    .song .thumb {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background-size: cover;
      margin: 0 8px;
    }

    .song.active .thumb {
      border: 3px double rgb(235, 178, 178);
    }

    .song .body {
      flex: 1;
      padding: 0 16px;
    }

    .song .title {
      font-size: 18px;
      color: var(--text-color);
    }

    .song .author {
      font-size: 12px;
      color: #999;
    }

    .song .option {
      padding: 16px 8px;
      color: #999;
      font-size: 18px;
    }
  </style>
</head>

<body class="">
  <div class="player">
    <!-- Dashboard -->
    <div class="dashboard">
      <!-- Header -->
      <header>
        <h4>Now playing:</h4>
        <h2>String 57th & 9th</h2>
      </header>

      <!-- CD -->
      <div class="cd">
        <div
          class="cd-thumb"
          style="
            background-image: url('https://i.ytimg.com/vi/jTLhQf5KJSc/maxresdefault.jpg');
          "
        ></div>
      </div>

      <!-- Control -->
      <div class="control">
        <div class="btn btn-repeat">
          <i class="fas fa-redo"></i>
        </div>
        <div class="btn btn-prev">
          <i class="fas fa-step-backward"></i>
        </div>
        <div class="btn btn-toggle-play">
          <i class="fas fa-pause icon-pause"></i>
          <i class="fas fa-play icon-play"></i>
        </div>
        <div class="btn btn-next">
          <i class="fas fa-step-forward"></i>
        </div>
        <div class="btn btn-random">
          <i class="fas fa-random"></i>
        </div>
      </div>

      <input
        id="progress"
        class="progress"
        type="range"
        value="0"
        step="1"
        min="0"
        max="100"
      />

      <audio id="audio" src=""></audio>
    </div>

    <!-- Playlist -->
    <div class="playlist animate__slideInUp"></div>
  </div>
  <!-- Design from: https://static.collectui.com/shots/3671744/musicloud-revolutionary-app-for-music-streaming-large -->

  <script>
    const $ = document.querySelector.bind(document);
    const $$ = document.querySelectorAll.bind(document);

    const PLAYER_STORAGE_KEY = "MUSIC_PLAYER_TienHieu";

    const player = $(".player");
    const cd = $(".cd");
    const heading = $("header h2");
    const cdThumb = $(".cd-thumb");
    const audio = $("#audio");
    const playBtn = $(".btn-toggle-play");
    const progress = $("#progress");
    const prevBtn = $(".btn-prev");
    const nextBtn = $(".btn-next");
    const randomBtn = $(".btn-random");
    const repeatBtn = $(".btn-repeat");
    const playlist = $(".playlist");

    const app = {
      //Lấy ra chỉ mục đầu tiên của mảng
      currentIndex: 0,
      isPlaying: false,
      isRandom: false,
      isRepeat: false,
      config: JSON.parse(localStorage.getItem(PLAYER_STORAGE_KEY)) || {},
      songs: [
        {
          name: " Yun Hi",

          singer: "Mohit chauhan",
           path: "yun hi.mp3",
           image: "video1.gif",

        },
        {
          name: " Heeriye Unreleased",
          singer: "Arijit Singh, Shreya Ghoshal",
           path: "Arijit Singh_ Heeriye _ Shreya Ghoshal, Himesh Reshammiya-[AudioTrimmer.com].mp3",
           image: "i_love_u_V4.gif",

          
        },
           {
          name: " pretty little baby",

          singer: "Connie Francis",
           path: "Pretty Little Baby.mp3",
           image: "pretty little baby.jpg",
          

        },
         {
          name: " Alag Aasmann",

          singer: "Harshvardhan",
           path: "Alag aasman cover by me .mp3",
           image: "alag aasman.jpg",

        },
        {
          name: "Kinna Sona Prism",
          singer: "Sunil Kamath ",
           path: "Kinna Sona Full AUDIO Song - Sunil Kamath _ Bhaag Johnny _ Kunal Khemu _ T-Series-[AudioTrimmer.com].mp3",
           image: "videoplaybackkinnasona - CROP - Videobolt.net(1).gif",

          
        },

        {
          name: "Ajab sii..",
          singer: " K Kunnath ",
           path: "Aankhon Mein Teri Ajab Si (Lyrical) Om Shanti Om _ K.K. _ Shahrukh Khan _ Deepika Padukone.mp3",
           image: "./ankhon me teri (online-video-cutter.com).gif",

          
        },

        {
          name: " Heeriye..",
          singer: "Arijit Singh, Shreya Ghoshal",
           path: "Arijit Singh_ Heeriye _ Shreya Ghoshal, Himesh Reshammiya.mp3",
           image: "i_love_u_V4.gif",

          
        },

        {
          name: "Surili Akhiyon Wale",
          singer: "Rahat Fateh Ali khan",
           path: "Surili Akhiyon Wale Full (Video) - Veer_Salman Khan_Zarine Khan_Rahat Fateh Ali Khan.mp3",
           image: "./sureli ankhiyon wale (online-video-cutter.com).gif",

          
        },
          {
          name: "Mere Liye Tum Kaafi Ho",
          singer: "Ayushman Khurana , Tanishk , Vayu",
          path: "Mere Liye Tum Kaafi Ho Song _ Shubh Mangal Zyada Saavdhan _ Ayushman Khurana,Jeetu _ Tanishk - Vayu.mp3",
          image: "video1.gif",

          
        },
        {
          name: "Chaar Kadam",
          singer: "Sonu nigam , Shreya Ghosal",
           path: "'Chaar Kadam' FULL VIDEO Song _ PK _ Sushant Singh Rajput _ Anushka Sharma _ T-series.mp3",
           image: "chaar kadam (online-video-cutter.com).gif",

          
        },
        {
          name: "Jogi prism",
          singer: " Arko ft Aakanksha Sharma , Yaseer Desai",
           path: "Jogi - Lyrical _ Shaadi Mein Zaroor Aana _ Rajkummar Rao, Kriti Kharbanda _ Arko ft Aakanksha Sharma-[AudioTrimmer.com].mp3",
           image: "jogi - TRIM - CROP - Videobolt.net.gif",

          
        },

        {
          name: "I love you",
          singer: "Mohit chauhan",
           path: "I love you (Full song) Bodyguard feat. Salman khan, Kareena Kapoor.mp3",
           image: "i_love_u_V1.gif",

          
        },
        {
          name: "Main Hoon Saath Tere Prism",
          singer: " Arijit Singh",
           path: "Main Hoon Saath Tere - Lyrical _ Shaadi Mein Zaroor Aana _ Rajkummar Rao, Kriti K _ Arijit Singh-[AudioTrimmer.com].mp3",
           image: "main hun saath tere1.gif",

          
        },{
          name: " Waste of time",
          singer: "Sonu nigam ",
          path: "'Love is a Waste of Time' FULL VIDEO SONG _ PK _ Aamir Khan _ Anushka Sharma _ T-series.mp3",
          image: "./video2.gif",

          
        },
          {
          name: "Kashmir Main..",
          singer: "Arijit Singh , Sunidhi chauhan ",
          path: "kashmir1.mp3",
           image: "./kashir main best best (online-video-cutter.com).gif",

          
        },
          {
          name: "Mera Mann Kehne Laga",
          singer: "Ayushmann Khurrana",
          path: "Mera Mann Kehne Laga Full Song with Lyrics _ Nautanki Saala _ Ayushmann Khurrana,Kunaal Roy Kapur.mp3",
          image: "meramnn-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Tere Hawale..",
          singer: "Arijit Singh",
          path: "Tere Hawaale (Full Video) Laal Singh Chaddha _ Aamir,Kareena _ Arijit,Shilpa _ Pritam,Amitabh,Advait.mp3",
          image: "tere hawale.gif",

          
        },
        {
          name: "Hona Tha Pyar prism",
          singer: "Atif Aslam & Mahira Khan",
          path: "Hona Tha Pyar Full Video - Bol _ Atif Aslam & Mahira Khan _ Atif Aslam & Hadiqa Kiani-[AudioTrimmer.com].mp3",
          image: "video1.gif",

          
        },

        {
          name: "Main tera <333..",
          singer: "Arijit Singh ,Pritam_ Amitabh",
          path: "Kalank Title Track - Lyrical _ Alia Bhatt , Varun Dhawan _ Arijit Singh _ Pritam_ Amitabh-[AudioTrimmer.com].mp3",
          image: "MAINTERAthumbnail-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "  Tere Bina ",
          singer: "AR Rehman , Chinmayi ",
          path: "tere bina1.mp3",
          image: "tere bina.gif",

          
        },

        {
          name: " Alag Aasmann",

          singer: "Harshvardhan",
          path: "Alag aasman cover by me .mp3",

          image: "alag aasman.jpg",
        },
        {
          name: "Zaroor",
          singer: "Aparshakti Khurana",
          path: "Zaroor – Aparshakti Khurana _ Savi Kahlon _ Official Music Video.mp3",
          image: "zaroor.gif",

          
        },

        {
          name: "Moh Moh Ke Dhaage Prism",
          singer: "Papon Composed",
          path: "Moh Moh Ke Dhaage _ Full Song _ Dum Laga Ke Haisha _ Ayushmann, Bhumi _ Papon, Monali _ Anu Malik-[AudioTrimmer.com].mp3",
          image: "mohmohke-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Fakira",
          singer: "Sanam Puri",
          path: "Fakira _ Sanam-[AudioTrimmer.com].mp3",
          image: "fakira-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Pretty Woman prism",
          singer: "Shankar Mahadevan",
          path: "Pretty Woman - Kal Ho Naa Ho _ Shah Rukh Khan _ Preity _ Shankar Mahadevan _ SEL _ 4K Video-[AudioTrimmer.com].mp3",
          image: "pretty woman 1.gif",

          
        },
        {
          name: "Tere Bina ",
          singer: "AR Rehman x Chinmayi ",
          path: "tere bina.mp3",
          image: "tere bina.gif",

          
        },
      
        {
          name: "Chand Baliyan",
          singer: "Aaditya A ",
          path: "chand baliyan.mp3",
          image: "./origin.avif",
        },
        {
          name: "Bulleya",
          singer: "Papon ",
          path: "Bulleya _ Full Song _ Sultan _ Salman Khan, Anushka Sharma _ Papon _ Vishal & Shekhar _ Irshad Kamil.mp3",
          image: "video1.gif",

          
        },
        {
          name: " Channa ve..",

          singer: "Akhil Sachdeva",
          path: "canna ve.mp3",

           image: "canna ve.gif",

          
        },
        {
          name: "Chaudhary",

          singer: "Amit Trivedi , Mame khan ",
          path: "Chaudhary.mp3",

           image: "chaudhary.gif",

          
        },
        {
          name: " Lutt Putt gya",

          singer: "Arijit Singh",
          path: "lutt putt gya.mp3",

           image: "./lutt putt gya.gif",

          
        },
        {
          name: "Raanjhanaa",
          singer: "A.R. Rahman",
          path: "A.R. Rahman - Raanjhanaa (Lyric Video).mp3",
          image: "raanjanaa-TRIM-CROP-Videobolt.net-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Dooriyan",
          singer: "Mohit Chauhan",
          path: "DOORIYAN - Full Audio Song - Love Aaj Kal _ Saif Ali Khan _ Mohit Chauhan _ Pritam.mp3",
          image: "./dooriyan - TRIM - CROP - Videobolt.net.gif",

          
        },
                {
          name: "Mast Magan",
          singer: "Arijit Singh ",
          path: "Mast Magan FULL Video Song _ 2 States _ Arijit Singh _ Arjun Kapoor, Alia Bhatt.mp3",
          image: "mastmagan-ezgif.com-video-to-gif-converter.gif",

          
        },

        {
          name: "Lutt Putt gya",

          singer: "Arijit Singh",
          path: "lutt putt gya 2.mp3",

          image: "lutt putt gya 2.gif",

          
        },

        {
          name: "Tum Tak ",
          singer: "A.R. Rahman",
          path: "Tum Tak _ Full Video Song _ Raanjhanaa.mp3",
          image: "tuktum-ezgif.com-video-to-gif-converter.gif",

          
        },

        {
          name: "Tum Se Hi",
          singer: "Mohit Chauhan , Pritam",
          path: "Full Video_ Tum Se Hi _ Jab We Met _ Kareena Kapoor, Shahid Kapoor _ Mohit Chauhan _ Pritam.mp3",
          image: "tumsehi-ezgif.com-video-to-gif-converter.gif",

          
        },

        {
          name: "Aashiyan",
          singer: "Pritam , Shreya Ghosal",
          path: "Aashiyan - Barfi_Pritam_Shreya_Nikhil Paul George_Ranbir_Priyanka.mp3",
          image: "aasiyan-ezgif.com-video-to-gif-converter.gif",

          
        },

        {
          name: "Abhi Kuch Dino Se",
          singer: "Mohit Chauhan",
          path: "Abhi Kuch Dino Se Lyrical Video _ Dil Toh Baccha Hai Ji _ Emraan hashmi, Ajay Devgn.mp3",
          image: "abhikucchdinonse-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Ala Barfi",
          singer: "Pritam , Mohit chauhan",
          path: "Ala Barfi - Barfi_Pritam_Mohit Chauhan_Ranbir.mp3",
          image: "alabarfi-ezgif.com-video-to-gif-converter.gif",

          
        },

        {
          name: "Dagabaaz Re",
          singer: "Rahat Fateh Ali Khan",
          path: "Dagabaaz Re Dabangg 2 Full Video Song ᴴᴰ _ Salman Khan, Sonakshi Sinha.mp3",
          image: "video1.gif",

          
        },
        {
          name: "Fakira",
          singer: "Sanam Puri",
          path: "Fakira _ Sanam.mp3",
          image: "video1.gif",

          
        },

        {
          name: "Perfect",
          singer: "ED Sheeran",
          path: "Ed Sheeran - Perfect.mp3",
          image: "video1.gif",

          
        },

        {
          name: "Zara Si Sawari hai woh",
          singer: "Arijit , krishnan",
          path: "full song Zara Si Sawari hai woh amazing song love diary Arijit.mp3",
          image: "sawaarloo-ezgif.com-crop.gif",

          
        },

        {
          name: "Haule Haule",
          singer: "Sukhwinder Singh",
          path: "Haule Haule - Full Song _ Rab Ne Bana Di Jodi _ Shah Rukh Khan _ Anushka Sharma _ Sukhwinder Singh.mp3",
          image: "haulehaule-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Hona Tha Pyar",
          singer: "Atif Aslam & Mahira Khan",
          path: "Hona Tha Pyar Full Video - Bol _ Atif Aslam & Mahira Khan _ Atif Aslam & Hadiqa Kiani.mp3",
          image: "video1.gif",

          
        },

        {
          name: "Jag Ghoomeya",
          singer: "Rahat Fateh Ali Khan",
          path: "Jag Ghoomeya Full Song _ SULTAN _ Salman Khan, Anushka Sharma _ Rahat Fateh Ali Khan, Vishal-Shekhar.mp3",
          image: "jagghoomeyan-ezgif.com-video-to-gif-converter.gif",

          
        },

        {
          name: "Jogi",
          singer: " Arko ft Aakanksha Sharma , Yaseer Desai",
          path: "Jogi - Lyrical _ Shaadi Mein Zaroor Aana _ Rajkummar Rao, Kriti Kharbanda _ Arko ft Aakanksha Sharma.mp3",
          image: "jogi 2.gif",

          
        },
        {
          name: "Jugraafiya",
          singer: "Udit Narayan & Shreya Ghoshal",
          path: "Jugraafiya - Full Video _ Super 30 _ Hrithik Roshan & Mrunal Thakur _ Udit Narayan & Shreya Ghoshal.mp3",
          image: "jugarafiyaa - TRIM - CROP - Videobolt.net.gif",

          
        },
        {
          name: "Kahin Na Lage Mann",
          singer: "Mohit Chauhan,Pritam",
          path: "Kahin Na Lage Mann - Is This Love - Kismat Konnection - Mohit Chauhan _ Pritam.mp3",
          image: "kahinnalagemnn-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Kalank Title",
          singer: "Arijit Singh ,Pritam_ Amitabh",
          path: "Kalank Title Track - Lyrical _ Alia Bhatt , Varun Dhawan _ Arijit Singh _ Pritam_ Amitabh-[AudioTrimmer.com].mp3",
          image: "MAINTERAthumbnail-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Kalank",
          singer: "Arijit Singh ,Pritam_ Amitabh",
          path: "Kalank Title Track - Lyrical _ Alia Bhatt , Varun Dhawan _ Arijit Singh _ Pritam_ Amitabh.mp3",
           image: "maintera-TRIM-CROP-Videobolt.net-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Kinna Sona",
          singer: "Sunil Kamath ",
          path: "Kinna Sona Full AUDIO Song - Sunil Kamath _ Bhaag Johnny _ Kunal Khemu _ T-Series.mp3",
          image: "videoplaybackkinnasona - CROP - Videobolt.net(1).gif",

          
        },

        {
          name: "Kyon",
          singer: "Pritam ,Papon ,Sunidhi",
          path: "Kyon - Barfi_Pritam_Papon_Sunidhi_Ranbir_Priyanka.mp3",
          image: "kyon2-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Dildara ",
          singer: " aShafqat Amanat Ali",
          path: "Lyrical Video_ Dildara Song _ Ra.One _ ShahRukh Khan, Kareena Kapoor.mp3",
          image: "dildara - TRIM - CROP - Videobolt.net.gif",

          
        },
        {
          name: "Agar tum Kaho..",
          singer: "kumar sanu , Alka Yagnik",
          path: "Main Koi Aisa Geet Gaoon - HD VIDEO _ Shah Rukh Khan & Juhi Chawla _ Yes Boss _ 90's Romantic Songs.mp3",
          image: "./agar tum kaho (online-video-cutter.com).gif",

          
        },
        {
          name: "O Meri Laila..",
          singer: " Atif Aslam ",
          path: "O Meri Laila - Lyrical _ Laila Majnu _ Jyotica Tangri _ Avinash Tiwary & Tripti Dimri.mp3",
          image: "./lailabestpattaanaronline-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Main Parwaana",
          singer: "A. R. Rahman",
           path: "Main Parwaana - Full Video _ Pippa _ Ishaan & Leysan _ Arijit Singh _ A. R. Rahman _ Shellee.mp3",
           image: "video1.gif",

          
        },

        {
          name: "MATARGASHTI",
          singer: "Mohit Chauhan",
            path: "MATARGASHTI full VIDEO Song _ TAMASHA Songs 2015 _ Ranbir Kapoor, Deepika Padukone _ T-Series.mp3",
            image: "matargasti-ezgif.com-video-to-gif-converter.gif",

          
        },
      
      
        {
          name: "Moh Moh Ke Dhaage",
          singer: "Papon Composed",
          path: "Moh Moh Ke Dhaage _ Full Song _ Dum Laga Ke Haisha _ Ayushmann, Bhumi _ Papon, Monali _ Anu Malik.mp3",
          image: "mohmohke-ezgif.com-video-to-gif-converter.gif",

          
        },

        {
          name: "Sawaar Loon",
          singer: "Monali Thakur",
          path: "Monali Thakur - Sawaar Loon (Lyrics) _ Lootera.mp3",
          image: "video1.gif",

          
        },
        {
          name: "Naina Da Kya Kasoor",
          singer: "Amit Trivedi",
          path: "Naina Da Kya Kasoor - Full Video _ AndhaDhun _ Ayushmann Khurrana _ Radhika Apte _ Amit Trivedi.mp3",
          image: "nainadakyakasoor-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "O Rangrez",
          singer: "Javed Bashir",
          path: "O Rangrez - Lyrical Video _ Bhaag Milkha Bhaag _ Farhan, Sonam _ Shreya Ghoshal, Javed Bashir.mp3",
          image: "orangrez-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Tu Aisa Kaise Hai",
          singer: "Osho Jain",
          path: "tu aesa kaise h.mp3",
          image: "video1.gif",

          
        },
        {
          name: "Phir Le Aya Dil",
          singer: "Pritam , Arijit",
          path: "Phir Le Aya Dil - Redux - Barfi_Pritam_Arijit Singh_Ranbir_Priyanka_Ileana D'Cruz.mp3",
          image: "firleaayadilkyakijiye-CROP-Videobolt.net-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Piyu Bole",
          singer: "Sonu Nigam , Shreya Ghoshal",
          path: "Piyu Bole _ Parineeta _ Saif Ali Khan & Vidya Balan _ Sonu Nigam & Shreya Ghoshal.mp3",
          image: "piyubole-ezgif.com-video-to-gif-converter.gif",

          
        },

        {
          name: "Tu Hi Mera",
          singer: "Shafqat Amanat Ali",
          path: "Pritam, Shafqat Amanat Ali - Tu Hi Mera (Full Song Video).mp3",
          image: "tuhimera-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Pretty Woman",
          singer: "Shankar Mahadevan",
          path: "Pretty Woman - Kal Ho Naa Ho _ Shah Rukh Khan _ Preity _ Shankar Mahadevan _ SEL _ 4K Video.mp3",
          image: "pretty woman.gif",

          
        },
        {
          name: "Qaafirana",
          singer: "Arijit Singh & Nikhita",
          path: "Qaafirana _ Kedarnath _ Sushant Rajput _ Sara Ali Khan _ Arijit Singh & Nikhita _ Amit Trivedi.mp3",
          image: "qafirana-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Line Without a Hook",
          singer: "Ricky Montgomery",
          path: "Ricky Montgomery - Line Without a Hook (Official Music Video).mp3",
          image: "video1.gif",

          
        },
        {
          name: "Kun Faya Kun",
          singer: "A.R. Rahman, Javed Ali, Mohit Chauhan",
          path: "ROCKSTAR_ Kun Faya Kun (Full Video Song) _ Ranbir Kapoor _ A.R. Rahman, Javed Ali, Mohit Chauhan.mp3",
          image: "video1.gif",

          
        },
        {
          name: "Tere Naina",
          singer: "Shankar Eshan Loy",
          path: "Shankar Eshan Loy - Tere Naina Lyric Video - My Name is Khan _ Shahrukh Khan _ Kajol.mp3",
          image: "teranainabest-ezgif.com-cut.gif",

          
        },
        {
          name: "Saudebaazi",
          singer: "  Javed Ali , Pritam",
          path: "Saudebaazi - (Lyrics) _ Lyrical Bam Hindi.mp3",
          image: "video1.gif",

          
        },
        {
          name: "Sun Re Sajania",
          singer: "Ali Zafar",
          path: "Sun Re Sajania HD Ali Zafar.mp3",
          image: "sunresajaniya-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "Surili Akhiyon Wale",
          singer: "Rahat Fateh Ali khan",
          path: "Surili Akhiyon Wale Full (Video) - Veer_Salman Khan_Zarine Khan_Rahat Fateh Ali Khan.mp3",
          image: "./sureli ankhiyon wale (online-video-cutter.com).gif",

          
        },
        ,
        {
          name: "Tera Rastaa ",
          singer: "Arijit",
          path: "Tera Rastaa Chennai Express Full Video Song HD Shahrukh Khan, Deepika Padukone.mp3",
          image: "video1.gif",

          
        },
        ,
        {
          name: "Every Breath You Take",
          singer: "The Police",
          path: "The Police - Every Breath You Take (Official Music Video).mp3",
          image: "video1.gif",

          
        },
        ,
        {
          name: "There Is a Light That Never Goes..",
          singer: " Remaster",
          path: "There Is a Light That Never Goes Out (2011 Remaster).mp3",
          image: "video1.gif",

          
        },

        {
          name: "UFF",
          singer: "Benny dayal , Vishal Shekhar ",
          path: "UFF Full Video _ BANG BANG! _ Hrithik Roshan & Katrina Kaif _ HD.mp3",
          image: "video1.gif",

          
        },
        {
          name: "Wat Wat Wat ",
          singer: "Arijit Singh",
          path: "Wat Wat Wat.mp3",
          image: "wat wat wat - CROP - TRIM - Videobolt.net.gif",

          
        },

        {
          name: "You Are My Soniya",
          singer: "sonunigam",
          path: "You Are My Soniya - K3G _ Kareena Kapoor _ Hrithik Roshan _@sonunigam _ @alkayagnik3875 _ 4K.mp3",
          image: "youaremysoniyan-ezgif.com-video-to-gif-converter.gif",

          
        },
        {
          name: "blue",
          singer: "yung kai",
          path: "yung kai - blue (official music video).mp3",
          image: "blue.gif",

          
        },

        {
          name: "Zehnaseeb",
          singer: "Sidharth , Chinmayi",
          path: "Zehnaseeb Lyric Video - Hasee Toh Phasee_Parineeti, Sidharth_Chinmayi S, Shekhar Ravjiani.mp3",
          image: "video1.gif",

          
        },
        {
          name: "HARSH",
          singer: "x kr$na",
          path: "Sach Keh Raha Hai _ सच कह रहा है के बोल _ Lyrics _Dia Mirza,Madhavan_ K.K _Rehnaa Hai Terre Dil Mein.mp3",
          image: "video1.gif",

          
        },
        ,
        {
          name: "Main Hoon Saath Tere",
          singer: " Arijit Singh",
          path: "Main Hoon Saath Tere - Lyrical _ Shaadi Mein Zaroor Aana _ Rajkummar Rao, Kriti K _ Arijit Singh.mp3",
          image: "video1.gif",

          
        },
        {
          name: "Wat Wat Wat Prism",
          singer: "Arijit Singh",
          path: "Wat Wat Wat-[AudioTrimmer.com].mp3",
          image: "wat wat wat - CROP - TRIM - Videobolt.net.gif",

          
        },
        



        
        
      ],

      setConfig: function (key, value) {
        this.config[key] = value;
        localStorage.setItem(PLAYER_STORAGE_KEY, JSON.stringify(this.config));
      },

      render: function () {
        const htmls = this.songs.map((song, index) => {
          return `
        <div class="song ${
          index === this.currentIndex ? "active" : ""
        }" data-index="${index}">
            <div class="thumb"
                style="background-image: url('${song.image}')">
            </div>
            <div class="body">
                <h3 class="title">${song.name}</h3>
                <p class="author">${song.singer}</p>
            </div>
            <div class="option">
                <i class="fas fa-ellipsis-h"></i>
            </div>
        </div>
    `;
        });
        playlist.innerHTML = htmls.join("");
      },

      defineProperties: function () {
        Object.defineProperty(this, "currentSong", {
          get: function () {
            return this.songs[this.currentIndex];
          },
        });
      },

      handleEvents: function () {
        const _this = this;

        //Lấy ra kích thước mặc định của CD
        const cdWidth = cd.offsetWidth;

        //Xử lý  CD quay và dừng
        const cdThumbAnimate = cdThumb.animate(
          [{ transform: "rotate(360deg)" }],
          {
            duration: 10000, //10 seconds
            itetations: Infinity,
          }
        );
        cdThumbAnimate.pause();

        // Xử lý phóng to thu nhỏ CD
        (document.onscroll = function () {
          const scrollTop =
            window.scrollY || document.documentElement.scrollTop;
          const newCdWidth = cdWidth - scrollTop; //Kích thước cd trừ đi kích thước kéo lên để tính ra kích thước cần giảm

          cd.style.width = newCdWidth > 0 ? newCdWidth + "px" : 0;
          cd.style.opacity = newCdWidth / cdWidth;
        }),
          //Xử lý khi click play
          (playBtn.onclick = function () {
            if (_this.isPlaying) {
              audio.pause();
            } else {
              audio.play();
            }
          });

        //Khi song được play
        audio.onplay = function () {
          _this.isPlaying = true;
          player.classList.add("playing");
          cdThumbAnimate.play();
        };

        //Khi song bị pause
        audio.onpause = function () {
          _this.isPlaying = false;
          player.classList.remove("playing");
          cdThumbAnimate.pause();
        };

        //Khi tiến độ bài hát thay đổi
        audio.ontimeupdate = function () {
          if (audio.duration) {
            const progressPercent = Math.floor(
              (audio.currentTime / audio.duration) * 100
            );
            progress.value = progressPercent;
          }
        };

        //Xử lý khi tua song
        progress.onchange = function (e) {
          const seekTime = (audio.duration / 100) * e.target.value;
          audio.currentTime = seekTime;
        };

        //Khi next song
        nextBtn.onclick = function () {
          if (_this.isRandom) {
            _this.randomSong();
          } else {
            _this.nextSong();
          }
          audio.play();
          _this.render();
          _this.scrollToActiveSong();
        };

        //Khi prev song
        prevBtn.onclick = function () {
          if (_this.isRandom) {
            _this.randomSong();
          } else {
            _this.prevSong();
          }
          audio.play();
          _this.render();
        };

        //Xử lý bật tắt random Song
        randomBtn.onclick = function (e) {
          _this.isRandom = !_this.isRandom;
          _this.setConfig("isRandom", _this.isRandom);
          randomBtn.classList.toggle("active", _this.isRandom);
        };

        //Xử lý lặp lại một Song
        repeatBtn.onclick = function (e) {
          _this.isRepeat = !_this.isRepeat;
          _this.setConfig("isRepeat", _this.isRepeat);
          repeatBtn.classList.toggle("active", _this.isRepeat);
        };

        //Xử lý next song khi audio ended
        audio.onended = function () {
          if (_this.isRepeat) {
            audio.play();
          } else {
            nextBtn.click();
          }
        };
        // Lắng nghe hành vi click vào playlist
        playlist.onclick = function (e) {
          const songNode = e.target.closest(".song:not(.active)");

          if (songNode || e.target.closest(".options")) {
            //Xử lý click vào song
            if (songNode) {
              _this.currentIndex = Number(songNode.dataset.index);
              _this.loadCurrentSong();
              audio.play();
              _this.render();
            }
            //Xử lý khi click vào song options
            if (e.target.closest(".options")) {
            }
          }
        };
      },

      scrollToActiveSong: function () {
        setTimeout(() => {
          $(".song.active").scrollIntoView({
            behavior: "smooth",
            block: "nearest",
          });
        }, 200);
      },

      loadCurrentSong: function () {
        heading.textContent = this.currentSong.name;
        cdThumb.style.backgroundImage = `url('${this.currentSong.image}')`;
        audio.src = this.currentSong.path;
      },

      loadConfig: function () {
        this.isRandom = this.config.isRandom;
        this.isRepeat = this.config.isRepeat;
      },

      nextSong: function () {
        this.currentIndex++;

        if (this.currentIndex >= this.songs.length) {
          this.currentIndex = 0;
        }
        this.loadCurrentSong();
      },

      prevSong: function () {
        this.currentIndex--;
        if (this.currentIndex < 0) {
          this.currentIndex = this.songs.length - 1;
        }
        this.loadCurrentSong();
      },

      randomSong: function () {
        let newIndex;
        do {
          newIndex = Math.floor(Math.random() * this.songs.length);
        } while (newIndex === this.currentIndex);

        this.currentIndex = newIndex;
        this.loadCurrentSong();
      },

      start: function () {
        //Gán cấu hình từ config vào ứng dụng
        this.loadConfig();
        // Định nghĩa các thuộc tính cho object
        this.defineProperties();

        // Lắng nghe / xử lý các sự kiện (DOM Events)
        this.handleEvents();

        // Tải thông tin bài đầu tiên vào UI khi chạy ứng dụng
        this.loadCurrentSong();

        // Render playlists
        this.render();

        //Hiển thị trạng thái ban đầu của button
        randomBtn.classList.toggle("active", this.isRandom);
        repeatBtn.classList.toggle("active", this.isRepeat);
      },
    };

    app.start = function () {
      this.loadConfig();
      this.defineProperties();
      this.handleEvents();
      this.loadCurrentSong();
      this.render();
      randomBtn.classList.toggle("active", this.isRandom);
      repeatBtn.classList.toggle("active", this.isRepeat);
    };

    app.start();

    //########################### this added in last

    // Preload audio files
    function preloadAudio() {
      app.songs.forEach((song) => {
        const audio = new Audio();
        audio.src = song.path;
        audio.preload = "auto";
      });
    }

    // Call this after defining your songs
    preloadAudio();

    //  app.start();
  </script>
</body>
